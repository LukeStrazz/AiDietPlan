@model IEnumerable<Services.ViewModels.GoalViewModel>

@{
  ViewData["Title"] = "Goals";
}

<section>
    <h2>Create Goal</h2>
  <form class="row gx-3 gy-2 align-items-center">
    <div>
      <h1 style="font-family:'Courier New', Courier, monospace "width: 30; height: 30;" >GOALS</h1>
    </div>
    <hr class="rounded">
    <div class="col-sm-3">
      <label class="visually-hidden" for="specificSizeInputName">Weight</label>
      <input
        type="number"
        class="form-control"
        id="targetWeight"
        placeholder="Target Weight"
        min="50"
        max="700"/>
    </div>

    <div class="col-sm-3">
      <label class="visually-hidden" for="specificSizeInputGroupUsername">Username</label>
      <div class="input-group">
        <div class="input-group-text"></div>
        <input
          type="date"
          class="form-control"
          id="startDate"
          placeholder="Start Date"
        />
      </div>
    </div>


    <div class="col-sm-3">
      <label class="visually-hidden" for="specificSizeInputGroupUsername">endDate</label>
      <div class="input-group">
        <div class="input-group-text"></div>
        <input
          type="date"
          class="form-control"
          id="endDate"
          placeholder="End Date"
        />
      </div>
    </div>

    <div class="col-auto">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
</section>
@if (Model.Any())
{

    <section>
        <h2>Your Goals</h2>
        <div class="row">
            @foreach (var goal in Model)
            {
                <div class="col-md-4 mb-3">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Goal Description</h5>
                            <p class="card-text">@goal.Description</p>
                            <p class="card-text"><strong>Start Date:</strong> @goal.startingGoalDate.ToShortDateString()</p>
                            <p class="card-text"><strong>End Date:</strong> @goal.endGoalDate.ToShortDateString()</p>
                            <p class="card-text"><strong>Status:</strong> @(goal.resolved ? "Resolved" : "In Progress")</p>
                            <form method="post" action="/Goal/ResolveGoal">
                                <input type="hidden" name="goalId" value="@goal.userSecretId" />
                                <button type="submit" class="btn btn-success" @(goal.resolved ? "disabled" : "")>
                                    Resolve Goal
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            }
        </div>
    </section>
}